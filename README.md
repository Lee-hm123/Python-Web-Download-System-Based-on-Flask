# Python-Web-Download-System-Based-on-Flask



该系统是一个基于 **Flask 框架** 的文件浏览与下载服务，允许用户通过网页查看并下载指定文件夹中的文件，可用于文件共享、内容管理，团队协作，课堂文件发布等轻量级使用场景。

------

## 🧩 系统组成

- **index.html**：前端页面，用于展示文件列表
- **网页下载.py**：后端主程序
- **For_Download/**：存放待下载文件的文件夹
- **Integrated.py：集成网页前端代码在 .py 文件**

------

## 🚀 核心功能

- **文件浏览**
  - 在网页首页展示指定文件夹中的所有文件。
  - 若待下载文件夹不存在，会自动创建。
  - 应用会检查指定文件是否为空，如果为空则标红显示待下载文件夹路径。
- **文件下载**
  - 点击`需要下载的文件名`后`下载选中的文件`即可下载文件。
  - 支持多选下载：点击多个`需要下载的文件名`后`下载选中的文件`即可下载文件。
  - 支持一键全选下载。
  - 若文件不存在，返回 404 错误；如下载中出错，返回 500 错误。

------

## 🖥 使用方式

1. 启动 Python 脚本：
   `网页下载.py`

2. 浏览器访问：
   `localhost:5000`或控制台输出的局域网 IP 地址（支持局域网访问）。

- 可以在IDE中编辑完成后用Python直接运行。这样会快很多！！！
  
![屏幕截图 2025-05-27 212852](https://github.com/user-attachments/assets/36314179-32e3-4678-a487-021358b6d6d6)

------

## 🔧 注意事项

- 此系统为测试/学习用途设计，**不适合大规模部署**。如用于生产环境，请优化代码结构与性能机制。

------

## 📷 使用效果


![屏幕截图 2025-05-26 225007](https://github.com/user-attachments/assets/e4744900-37bc-429e-97a8-446b81e40d65)


------

## 🧪变量说明

| 变量名/函数名            | 类型       | 说明                                                         |
| ------------------------ | ---------- | ------------------------------------------------------------ |
| `UPLOAD_FOLDER`          | 字符串     | 设置文件存储的目录路径。系统启动时会检查该路径是否存在，若不存在则自动创建。 |
| `app`                    | Flask 实例 | Flask 应用的核心对象，负责路由定义和服务启动。               |
| `get_file_list()`        | 函数       | 用于获取 `UPLOAD_FOLDER` 目录下的所有文件名称，并返回文件列表。 |
| `os.path.exists()`       | 函数       | 判断某路径是否存在，用于检查文件夹是否存在。                 |
| `os.makedirs()`          | 函数       | 在路径不存在时创建指定文件夹。                               |
| `os.listdir()`           | 函数       | 返回目录下所有文件和子目录名。结合 `os.path.isfile()` 过滤非文件项。 |
| `os.path.join()`         | 函数       | 拼接路径，确保不同系统下路径格式正确。                       |
| `render_template()`      | Flask 方法 | 加载并渲染 HTML 模板，如 `index.html`。传入文件名等变量用于页面展示。 |
| `send_file()`            | Flask 方法 | 将本地文件作为附件发送给客户端，触发浏览器下载。             |
| `abort(404)`             | Flask 方法 | 抛出 404 错误响应，通常用于文件不存在的情况。                |
| `abort(500)`             | Flask 方法 | 抛出 500 错误响应，表示服务器处理异常。                      |
| `__name__ == '__main__'` | 条件判断   | 判断脚本是否被直接运行，并通过 `app.run()` 启动 Flask 服务。 |
| `host='0.0.0.0'`         | 字符串     | 使服务器监听所有 IP 地址，便于局域网访问。                   |
| `port=5000`              | 整数       | 设置服务监听的端口号为 5000。                                |
